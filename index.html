<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Do you remember when I bloomed?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Nanum+Myeongjo:wght@700&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      box-sizing: border-box;
      position: relative;
      font-family: 'Gowun Dodum', 'Nanum Myeongjo', serif;
      background: linear-gradient(120deg, #f9f6f2 60%, #e5d3b3 100%);
      overflow-x: hidden;
    }
    body::before, body::after {
      content: "";
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 1;
    }
    body::before {
      background: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      opacity: 0.22;
      mix-blend-mode: multiply;
    }
    body::after {
      background: url('https://www.transparenttextures.com/patterns/grunge-wall.png');
      opacity: 0.15;
      mix-blend-mode: multiply;
    }
    .dust, .dust2 {
      pointer-events: none;
      position: fixed;
      left: 0; top: 0; width: 100vw; height: 100vh;
      z-index: 2;
    }
    .dust {
      background: url('https://cdn.pixabay.com/photo/2017/01/31/13/14/dust-2027569_1280.png') repeat;
      opacity: 0.09;
      animation: dustMove 20s linear infinite alternate;
    }
    .dust2 {
      background: url('https://i.ibb.co/WDmZb9M/film-dust.png') repeat;
      opacity: 0.06;
      mix-blend-mode: lighten;
      animation: dustMove2 30s linear infinite alternate;
    }
    @keyframes dustMove {
      0% { background-position: 0 0; }
      100% { background-position: 200px 120px; }
    }
    @keyframes dustMove2 {
      0% { background-position: 0 0; }
      100% { background-position: 100px 60px; }
    }

    .main-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 0;
      position: relative;
      z-index: 5;
    }
    .vintage-image-box {
      margin-top: 32px;
      margin-bottom: 18px;
      border-radius: 22px;
      overflow: hidden;
      width: 320px;
      max-width: 92vw;
      aspect-ratio: 4/3;
      position: relative;
      background: #fbeee6;
      box-shadow:
        0 12px 60px 0 rgba(191,161,129,0.16),
        0 0 0 18px #fff7 inset,
        0 1.5px 14px #e5d3b357;
      filter: blur(0.4px) brightness(0.98) contrast(0.93) sepia(0.12);
    }
    .vintage-image-box::after {
      content: "";
      position: absolute;
      left:0;top:0;width:100%;height:100%;
      background: radial-gradient(circle at 70% 15%, #fff8 0%, transparent 60%);
      opacity: 0.55;
      pointer-events: none;
    }
    .vintage-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: sepia(0.23) brightness(0.98) blur(0.45px) contrast(0.93);
    }
    .track-title {
      margin-top: 18px;
      margin-bottom: 5px;
      font-family: 'Nanum Myeongjo', serif;
      font-size: 1.16rem;
      color: #a3814a;
      letter-spacing: 1.2px;
      text-align: center;
      text-shadow: 0 1.5px 7px #fbe6c2cc, 0 1px 0 #aa9472;
      background: #f9f6f2da;
      border-radius: 11px;
      padding: 7px 16px 6px 16px;
      box-shadow: 0 2px 8px #e5d3b354;
      max-width: 92vw;
      line-height: 1.6;
      filter: blur(0.1px);
      z-index: 10;
      position: relative;
    }
    .player-panel {
      background: linear-gradient(120deg, #ffe6cc 75%, #e5d3b3 100%);
      border-radius: 22px;
      box-shadow:
        0 14px 60px 0 rgba(191,161,129,0.16),
        0 0 0 18px #fff5 inset,
        0 1.5px 14px #e5d3b357;
      padding: 32px 20px 22px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 240px;
      max-width: 96vw;
      margin-bottom: 38px;
      margin-top: 0;
      position: relative;
      filter: blur(0.3px) brightness(0.99) contrast(0.95) sepia(0.08);
    }
    #controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      width: 100%;
    }
    .audio-bar-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2px; /* 버튼, 바, 시간 간격 극소화 */
      width: 100%;
      margin-top: 3px;
      margin-bottom: 3px;
    }
    .nostalgia-btn {
      background: linear-gradient(90deg, #ffd6a5 0%, #ffe6cc 100%);
      border: none;
      border-radius: 12px;
      box-shadow: 0 1px 4px #e5d3b378, 0 1px 0 #fff7;
      font-family: inherit;
      font-size: 1rem;
      font-weight: 600;
      color: #a3814a;
      cursor: pointer;
      transition: background 0.22s, transform 0.1s;
      outline: none;
      filter: blur(0.07px);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      min-width: 22px;
      min-height: 22px;
      margin-right: 0;
      padding: 0;
    }
    .nostalgia-btn svg {
      width: 12px;
      height: 12px;
      vertical-align: middle;
      fill: #a3814a;
      display: block;
    }
    .audio-progress {
      flex: 1 1 auto;
      width: 100%;
      max-width: 120px;
      accent-color: #bfa181;
      height: 4px;
      border-radius: 4px;
      background: #f9f6f2;
      box-shadow: 0 1px 2px #e5d3b357;
      margin: 0 1px;
      cursor: pointer;
    }
    .time-label {
      color: #a3814a;
      background: #fff7;
      border-radius: 5px;
      font-size: 0.48rem;
      font-family: 'Nanum Myeongjo', serif;
      padding: 0.5px 1.5px 0.5px 1.5px;
      min-width: 27px;
      max-width: 31px;
      text-align: center;
      box-shadow: 0 1px 4px #e5d3b354;
      filter: blur(0.07px);
      letter-spacing: 0.1px;
      user-select: none;
      line-height: 1;
      white-space: nowrap;
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
      vertical-align: middle;
    }
    .volume-row {
      display: flex;
      align-items: center;
      font-size: 1.01rem;
      color: #b4846c;
      width: 100%;
      justify-content: center;
      gap: 8px;
      margin-top: 7px;
    }
    .volume-slider {
      width: 110px;
      max-width: 38vw;
      accent-color: #bfa181;
      vertical-align: middle;
      height: 18px;
      background: none;
      filter: blur(0.13px);
    }
    .volume-icon {
      font-size: 1.2rem;
      color: #bfa181;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      margin-right: 2px;
    }
    .volume-icon svg {
      width: 12px;
      height: 12px;
      fill: #bfa181;
      display: block;
    }
    @media (max-width:640px) {
      .vintage-image-box { width: 96vw; }
      .player-panel {
        padding: 5vw 2vw 18px 2vw;
        min-width: 0;
        margin-bottom: 12vw;
      }
      .track-title { font-size: 1.04rem; padding: 7px 2vw 6px 2vw;}
      .nostalgia-btn { font-size: 0.9rem; width: 15px; height: 15px; min-width: 15px; min-height: 15px;}
      .nostalgia-btn svg { width: 8px; height: 8px; }
      .audio-bar-row { gap: 1px; }
      .audio-progress { max-width: 50px; height: 3px; }
      .time-label { font-size: 0.33rem; min-width: 12px; max-width: 18px; padding: 0.5px 0.5px;}
      .volume-slider { width: 28vw; }
      .volume-icon svg { width: 8px; height: 8px; }
    }
  </style>
</head>
<body>
  <div class="dust"></div>
  <div class="dust2"></div>
  <div class="main-container">
    <div class="vintage-image-box">
      <img class="vintage-image"
        src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=480&q=80"
        alt="vintage nostalgia" loading="lazy">
    </div>
    <div class="track-title">Do you remember when I bloomed?</div>
    <div class="player-panel">
      <audio id="bgm" src="music.mp3" loop></audio>
      <div id="controls">
        <div class="audio-bar-row">
          <button class="nostalgia-btn" id="playPauseBtn" onclick="togglePlay()" title="재생/일시정지">
            <svg id="playPauseIcon" viewBox="0 0 32 32">
              <path d="M8 6v20l17-10-17-10z"/>
            </svg>
          </button>
          <input type="range" id="progressBar" class="audio-progress" min="0" max="100" value="0" step="0.01">
          <span class="time-label" id="timeLabel">00:00/00:00</span>
        </div>
        <div class="volume-row">
          <span class="volume-icon" title="볼륨">
            <svg viewBox="0 0 32 32">
              <path d="M4 12v8h8l8 8V4l-8 8H4z"/>
              <path d="M24.5 7.5a1 1 0 011.4 1.4A10.04 10.04 0 0126 16c0 2.21-.71 4.25-1.9 5.9a1 1 0 01-1.6-1.2A8.05 8.05 0 0024 16c0-1.6-.47-3.09-1.3-4.36a1 1 0 011.8-1.14z"/>
            </svg>
          </span>
          <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1"
                 class="volume-slider" onchange="setVolume(this.value)">
        </div>
      </div>
    </div>
  </div>
  <script>
    const audio = document.getElementById('bgm');
    const progressBar = document.getElementById('progressBar');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playPauseIcon = document.getElementById('playPauseIcon');
    const timeLabel = document.getElementById('timeLabel');
    const volumeSlider = document.getElementById('volumeSlider');

    let isSeeking = false;

    function formatTime(sec) {
      if (isNaN(sec)) return "00:00";
      const m = Math.floor(sec / 60);
      const s = Math.floor(sec % 60);
      return (m < 10 ? "0" : "") + m + ":" + (s < 10 ? "0" : "") + s;
    }

    function updateTimeLabel() {
      const cur = audio.currentTime;
      const dur = audio.duration;
      timeLabel.textContent = `${formatTime(cur)}/${formatTime(dur)}`;
    }

    function updateProgressBar() {
      if (!isSeeking) {
        progressBar.value = audio.duration ? (audio.currentTime / audio.duration) * 100 : 0;
      }
      updateTimeLabel();
    }

    audio.addEventListener('timeupdate', updateProgressBar);
    audio.addEventListener('durationchange', updateProgressBar);
    audio.addEventListener('loadedmetadata', updateProgressBar);

    progressBar.addEventListener('input', function() {
      isSeeking = true;
      updateTimeLabel();
    });

    progressBar.addEventListener('change', function() {
      if (audio.duration) {
        audio.currentTime = (progressBar.value / 100) * audio.duration;
      }
      isSeeking = false;
    });

    function setVolume(val) {
      audio.volume = val;
    }
    audio.volume = volumeSlider.value;

    function togglePlay() {
      if (audio.paused) {
        audio.play();
      } else {
        audio.pause();
      }
    }

    audio.addEventListener('play', function() {
      playPauseIcon.innerHTML = `
        <rect x="8" y="6" width="6" height="20"/>
        <rect x="18" y="6" width="6" height="20"/>
      `;
    });
    audio.addEventListener('pause', function() {
      playPauseIcon.innerHTML = `<path d="M8 6v20l17-10-17-10z"/>`;
    });

    document.addEventListener('DOMContentLoaded', function() {
      updateProgressBar();
    });
  </script>
</body>
</html>
